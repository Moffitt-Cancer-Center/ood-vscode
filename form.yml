---
tile:
  title: "VSCode Server"
  border_color: "light blue"
  sub_caption: "Code Smarter"

cluster: "slurm"

form:
  - bc_num_gpu
  - auto_mem
  - auto_cores
  - bc_num_hours
  - bc_num_slots
  - bc_queue
  # Advanced options toggle
  - show_advanced
  - auto_qos
  # App-specific parameters below
  - auto_conda
  - v_version
  - working_dir
  - reservation


attributes:
  auto_cores:
    value: 1
    help: Cores to allocate for job.
  
  auto_mem:
    value: "2"
    help: Memory to allocate for job.
  
  bc_num_gpu:
    widget: check_box
    checked_value: 1
    unchecked_value: 0
    label: "GPU:count"
    help: |
      - ["No GPU required", "0"]
      - ["Single(1) GPU", "1"]
  
  bc_num_hours:
    widget: "number_field"
    label: "Runtime [hours]"
    help: Number of hours to run
    value: 1
    min: 1
    max: 336
    step: 1
  
  bc_num_slots: 1
  
  bc_queue: "red"
  
  show_advanced:
    widget: "check_box"
    label: "Show Advanced Options"
    help: "Check to show advanced options (QoS and Conda environment)"
    value: 0
  
  auto_conda:
    placeholder: "Optional: Choose a local Conda env"
    label: "Conda Env (optional)"
    help: "Select a conda environment to use in the VSCode container (optional). If selected, the environment will be available inside the container for development."
  
  auto_qos:
    value: "normal"
    help: Default is usually fine.

  reservation:
  widget: "text_field"
  label: "Enter Reservation Name"
  value: ""
  help: |
    If you have a reservation, enter the reservation name here to use it for this job.

  # App-specific parameters below
  v_version:
    display: true
    widget: "select"
    value: "ml"
    label: "VSCode version"
    options:
      - ["Latest", "latest"]
      - ["Latest-ML", "ml"]
    help: |
      - **Latest** - Latest Rocker VSCode build from [dockerhub.moffitt.org]
      - **Latest-ML** - Latest Rocker VSCode ML container
  
  working_dir:
    widget: "path_selector"
    label: "Working Directory"
    data-target-file-type: dirs  # Valid values are: files, dirs, or both
    readonly: false
    help: "Select your project directory; defaults to $HOME"
